!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:String(n)}e.d({},{c:function(){return re},Q:function(){return ne}});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popupSelector=document.querySelector(t),this.closeButton=this.popupSelector.querySelector(".popup-save"),this._handleEscClose=this._handleEscClose.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this.popupSelector.classList.remove("popup-opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this.popupSelector&&this.popupSelector.classList.add("popup-opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"==e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this.closeButton.addEventListener("click",this.close.bind(this)),this.popupSelector.addEventListener("click",(function(t){t.target===e.popupSelector&&e.close()}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:String(t)}function c(e,t,n){return t=s(t),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,t,[e]))._popupImage=n.popupSelector.querySelector(".image-zoom__container"),n._imageLegend=n.popupSelector.querySelector(".image-zoom__text"),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._imageLegend.textContent="Imagen de ".concat(t),this.popupSelector.classList.remove("image-zoom_opened"),document.removeEventListener("keydown",this._handleEscClose),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this.popupSelector&&this.popupSelector.classList.add("image-zoom_opened"),document.removeEventListener("keydown",this._handleEscClose)}}])&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:String(t)}var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardData=t,this._cardElement=n,this._popupWhitImage=new f(".image-zoom")}var t,n;return t=e,(n=[{key:"_createCardElement",value:function(){return document.querySelector(this._cardElement).content.querySelector(".cards__element").cloneNode(!0)}},{key:"_setEventListeners",value:function(e){var t=this;e.querySelector(".cards__element-like").addEventListener("click",(function(e){e.currentTarget.querySelector(".cards__element-like-black").classList.toggle("cards__element-like-black_on")})),e.querySelector(".cards__element-pic").addEventListener("click",(function(){return t._handleImageClick()})),e.querySelector(".cards__element-trash").addEventListener("click",(function(e){e.currentTarget.closest(".cards__element").remove()}))}},{key:"_handleImageClick",value:function(){this._popupWhitImage.open(this._cardData.link,this._cardData.name)}},{key:"generateCard",value:function(){var e=this._createCardElement();this._setEventListeners(e);var t=e.querySelector(".cards__element-pic");return t.src=this._cardData.link,e.querySelector(".cards__element-text-container").querySelector(".cards__element-text").textContent=this._cardData.name,t.alt=this._cardData.name,e}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:String(t)}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._buttonSaveOff=t.buttonSaveOff,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._buttonElement=n.querySelector(".popup-save"),this._inputList=Array.from(n.querySelectorAll("input")),this.enableValidation()}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))})),this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._toggleButtonState()}},{key:"_isValid",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.validity.valid?this._hideInputError(e,t):this._showInputError(e,t,e.validationMessage)}},{key:"_showInputError",value:function(e,t,n){e.classList.add(this._inputErrorClass),t.textContent=n,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e,t){e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disabledButton():this._enabledButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disabledButton",value:function(){this._buttonElement.classList.add(this._buttonSaveOff),this._buttonElement.setAttribute("disabled",!0)}},{key:"_enabledButton",value:function(){this._buttonElement.classList.remove(this._buttonSaveOff),this._buttonElement.removeAttribute("disabled")}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),E=document.querySelector("#popup_container"),g=document.querySelector(".popup-place"),w=(document.querySelector("#image-zoom_container"),document.querySelectorAll(".image-zoom")),k=document.querySelectorAll(".image-zoom__icon-close"),j=document.querySelector(".popup__icon-close"),L=document.querySelector(".popup-place__icon-close"),O=document.querySelector(".profile__edit-button-square"),P=document.querySelector(".popup"),C=document.querySelector(".profile__add-button"),q={inputSelector:".form__imput-text",submitButtonSelector:".popup-save",buttonSaveOff:"popup__button-save-off",inputErrorClass:"form__input-text_type_error",errorClass:"form__input-show-error"},I=document.querySelector("#nombre"),B=document.querySelector("#acerca");function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function z(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:String(t)}function A(e,t,n){return t=V(t),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,D()?Reflect.construct(t,n||[],V(e).constructor):t.apply(e,n))}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var N=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=A(this,t,[e]))._submitInfo=n,r._formElement=document.querySelector("".concat(e," .form__popup")),r._popupElement=document.querySelector(".popup"),r._inputList=r._formElement.querySelectorAll(".form__imput-text"),r}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),n=t,(r=[{key:"_getImputValues",value:function(){var e=this,t={};return this._inputList.forEach((function(n){var r,o=null===(r=e._formElement.querySelector("#".concat(n.id)))||void 0===r?void 0:r.value;t[n.id]=o})),t}},{key:"_handleAddClass",value:function(){this._popupElement.classList.add(".popup-place_opened")}},{key:"setEventListeners",value:function(){var e=this;R(V(t.prototype),"setEventListeners",this).call(this),this.closeButton=this._popupElement.querySelector(".popup-save"),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._submitInfo(e._getImputValues()),t.target.reset(),t.target.querySelector(".popup-save").disabled=!0,t.target.querySelector(".popup-save").classList.add("popup__button-save-off")})),this.closeButton.addEventListener("click",(function(){e._handleAddClass()}))}},{key:"close",value:function(){R(V(t.prototype),"close",this).call(this)}}])&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(o);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U(r.key),r)}}function U(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:String(t)}var H=new(function(){function e(t){var n=t.dataName,r=t.dataJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dataName=document.querySelector(n),this._dataJob=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._dataName.textContent,job:this._dataJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;t&&(this._dataName.textContent=t),n&&(this._dataJob.textContent=n)}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({dataName:".profile__title",dataJob:".profile__subtitle"}),Q=new o("#popup_container"),Y=new f("#image-zoom_container"),F=new N("#popup_container",(function(){H.setUserInfo({name:I.value,job:B.value}),Q.close()})),G=new N("#popup-place_container",ne);function K(){E.classList.add("popup-opened")}function X(){G.close()}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function ee(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:String(t)}var te=new(function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderer",value:function(){var e=this;this.clear(),this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"setItem",value:function(e){this._container.prepend(e)}}])&&$(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t=new v(e,"#cards-template").generateCard();te.setItem(t)}},".cards");function ne(){var e=document.querySelector(".popup-place__imput-text_title").value,t=document.querySelector(".popup-place__imput-text_image").value,n=new v({name:e,link:t},"#cards-template");te.setItem(n.generateCard()),X()}function re(){te.renderer()}Array.from(document.querySelectorAll(".form__popup")).forEach((function(e){new S(q,e).enableValidation()})),O.addEventListener("click",(function(){F.open()})),j.addEventListener("click",K),P.addEventListener("click",(function(e){e.target===P&&K()})),C.addEventListener("click",(function(){G.open()})),L.addEventListener("click",X),g.addEventListener("click",(function(e){e.target===g&&X()})),k.forEach((function(e){e.addEventListener("click",(function(){Y.close()}))})),w.forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&Y.close()}))})),F.setEventListeners(),G.setEventListeners(),document.addEventListener("DOMContentLoaded",re)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLFNBQVNDLEVBQVNDLEdBQ3pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRzNFLEVDUEFILEVBQXdCLFNBQVNTLEVBQUtDLEdBQVEsT0FBT0wsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsRUFBTyxHLHV1QkNBakZJLEVBQUssV0FDdEIsU0FBQUEsRUFBWUMsSSw0RkFBY0MsQ0FBQSxLQUFBRixHQUN0QkcsS0FBS0YsY0FBZ0JHLFNBQVNDLGNBQWNKLEdBQzVDRSxLQUFLRyxZQUFjSCxLQUFLRixjQUFjSSxjQUFjLGVBQ3BERixLQUFLSSxnQkFBa0JKLEtBQUtJLGdCQUFnQkMsS0FBS0wsS0FDckQsQyxRQTJCQyxPLEVBM0JBSCxHLEVBQUEsRUFBQVgsSUFBQSxPQUFBb0IsTUFFRCxXQUNJTixLQUFLRixjQUFjUyxVQUFVQyxPQUFPLGdCQUNwQ1AsU0FBU1EsaUJBQWlCLFVBQVdULEtBQUtJLGdCQUM5QyxHQUFDLENBQUFsQixJQUFBLFFBQUFvQixNQUVELFdBQ1FOLEtBQUtGLGVBQ0xFLEtBQUtGLGNBQWNTLFVBQVVHLElBQUksZ0JBRXJDVCxTQUFTVSxvQkFBb0IsVUFBV1gsS0FBS0ksZ0JBQ2pELEdBQUMsQ0FBQWxCLElBQUEsa0JBQUFvQixNQUVELFNBQWdCTSxHQUNHLFVBQVhBLEVBQUkxQixLQUNKYyxLQUFLYSxPQUViLEdBQUMsQ0FBQTNCLElBQUEsb0JBQUFvQixNQUVELFdBQW1CLElBQUFRLEVBQUEsS0FDZmQsS0FBS0csWUFBWU0saUJBQWlCLFFBQVNULEtBQUthLE1BQU1SLEtBQUtMLE9BQzNEQSxLQUFLRixjQUFjVyxpQkFBaUIsU0FBUyxTQUFDRyxHQUN0Q0EsRUFBSUcsU0FBV0QsRUFBS2hCLGVBQ3BCZ0IsRUFBS0QsT0FFYixHQUNKLE0sb0VBQUNoQixDQUFBLENBaENxQixHLG84Q0NBSSxJQUNUbUIsRUFBYyxTQUFBQyxHQUMvQixTQUFBRCxFQUFZbEIsR0FBYyxJQUFBZ0IsRUFJb0QsTyw0RkFKcERmLENBQUEsS0FBQWlCLElBQ3RCRixFQUFBSSxFQUFBLEtBQUFGLEVBQUEsQ0FBTWxCLEtBRURxQixZQUFjTCxFQUFLaEIsY0FBY0ksY0FBYywwQkFDcERZLEVBQUtNLGFBQWVOLEVBQUtoQixjQUFjSSxjQUFjLHFCQUFxQlksQ0FDOUUsQyxRQWdCQyxPLHFSQXRCOEJPLENBQUFMLEVBQUFDLEcsRUFNOUJELEcsRUFBQSxFQUFBOUIsSUFBQSxPQUFBb0IsTUFFRCxTQUFLZ0IsRUFBVUMsR0FDWHZCLEtBQUttQixZQUFZSyxJQUFNRixFQUN2QnRCLEtBQUttQixZQUFZTSxJQUFNRixFQUN2QnZCLEtBQUtvQixhQUFhTSxZQUFjLGFBQUhDLE9BQWdCSixHQUM3Q3ZCLEtBQUtGLGNBQWNTLFVBQVVDLE9BQU8scUJBQ3BDUCxTQUFTVSxvQkFBb0IsVUFBV1gsS0FBS0ksaUJBQzdDSCxTQUFTUSxpQkFBaUIsVUFBV1QsS0FBS0ksZ0JBQzlDLEdBQUMsQ0FBQWxCLElBQUEsUUFBQW9CLE1BRUQsV0FDUU4sS0FBS0YsZUFDTEUsS0FBS0YsY0FBY1MsVUFBVUcsSUFBSSxxQkFFckNULFNBQVNVLG9CQUFvQixVQUFXWCxLQUFLSSxnQkFDakQsTSxvRUFBQ1ksQ0FBQSxDQXRCOEIsQ0FBU25CLEcseXFCQ0RLLElBRTVCK0IsRUFBSSxXQUN2QixTQUFBQSxFQUFZQyxFQUFNQyxJLDRGQUFhL0IsQ0FBQSxLQUFBNkIsR0FDN0I1QixLQUFLK0IsVUFBWUYsRUFDakI3QixLQUFLZ0MsYUFBZUYsRUFDcEI5QixLQUFLaUMsZ0JBQWtCLElBQUlqQixFQUFlLGNBQzVDLEMsUUF5Q0MsTyxFQXpDQVksRyxFQUFBLEVBQUExQyxJQUFBLHFCQUFBb0IsTUFFRCxXQU1DLE9BTHFCTCxTQUNuQkMsY0FBY0YsS0FBS2dDLGNBQ25CRSxRQUNBaEMsY0FBYyxtQkFDZGlDLFdBQVUsRUFFYixHQUFDLENBQUFqRCxJQUFBLHFCQUFBb0IsTUFFRCxTQUFtQjhCLEdBQVksSUFBQXRCLEVBQUEsS0FDaEJzQixFQUFXbEMsY0FBYyx3QkFDakNPLGlCQUFpQixTQUFTLFNBQUNHLEdBQ1ZBLEVBQUl5QixjQUFjbkMsY0FBYyw4QkFDeENLLFVBQVUrQixPQUFPLCtCQUMvQixJQUVrQkYsRUFBV2xDLGNBQWMsdUJBQ2pDTyxpQkFBaUIsU0FBUyxrQkFBTUssRUFBS3lCLG1CQUFtQixJQUVwREgsRUFBV2xDLGNBQWMseUJBQ2pDTyxpQkFBaUIsU0FBUyxTQUFDRyxHQUNiQSxFQUFJeUIsY0FBY0csUUFBUSxtQkFDaENoQyxRQUNkLEdBQ0YsR0FBQyxDQUFBdEIsSUFBQSxvQkFBQW9CLE1BRUQsV0FDRU4sS0FBS2lDLGdCQUFnQlEsS0FBS3pDLEtBQUsrQixVQUFVVyxLQUFNMUMsS0FBSytCLFVBQVVZLEtBQ2hFLEdBQUMsQ0FBQXpELElBQUEsZUFBQW9CLE1BRUQsV0FDRSxJQUFNOEIsRUFBYXBDLEtBQUs0QyxxQkFDeEI1QyxLQUFLNkMsbUJBQW1CVCxHQUN4QixJQUFNVSxFQUFlVixFQUFXbEMsY0FBYyx1QkFLOUMsT0FKQTRDLEVBQWF0QixJQUFNeEIsS0FBSytCLFVBQVVXLEtBQ2ROLEVBQVdsQyxjQUFjLGtDQUNqQ0EsY0FBYyx3QkFBd0J3QixZQUFjMUIsS0FBSytCLFVBQVVZLEtBQy9FRyxFQUFhckIsSUFBTXpCLEtBQUsrQixVQUFVWSxLQUMzQlAsQ0FDVCxNLG9FQUFDUixDQUFBLENBOUNzQixHLDZxQkNGSm1CLEVBQWEsV0FDaEMsU0FBQUEsRUFBWUMsRUFBU0MsSSw0RkFBYWxELENBQUEsS0FBQWdELEdBRWhDL0MsS0FBS2tELGVBQWlCRixFQUFRRyxjQUM5Qm5ELEtBQUtvRCxzQkFBd0JKLEVBQVFLLHFCQUNyQ3JELEtBQUtzRCxlQUFpQk4sRUFBUU8sY0FDOUJ2RCxLQUFLd0QsaUJBQW1CUixFQUFRUyxnQkFDaEN6RCxLQUFLMEQsWUFBY1YsRUFBUVcsV0FDM0IzRCxLQUFLNEQsYUFBZVgsRUFFcEJqRCxLQUFLNkQsZUFBaUJaLEVBQVkvQyxjQUFjLGVBRWhERixLQUFLOEQsV0FBYUMsTUFBTUMsS0FBS2YsRUFBWWdCLGlCQUFpQixVQUUxRGpFLEtBQUtrRSxrQkFDUCxDLFFBMERDLE8sRUExREFuQixHLEVBQUEsRUFBQTdELElBQUEsbUJBQUFvQixNQUVELFdBQW1CLElBQUFRLEVBQUEsS0FDakJkLEtBQUs4RCxXQUFXSyxTQUFRLFNBQUNDLEdBQ3ZCQSxFQUFhM0QsaUJBQWlCLFNBQVMsV0FDckNLLEVBQUt1RCxTQUFTRCxHQUNkdEQsRUFBS3dELG9CQUNQLEdBQ0YsSUFFQXRFLEtBQUs0RCxhQUFhbkQsaUJBQWlCLFVBQVUsU0FBQ0csR0FDNUNBLEVBQUkyRCxnQkFDTixJQUNBdkUsS0FBS3NFLG9CQUNQLEdBQUMsQ0FBQXBGLElBQUEsV0FBQW9CLE1BRUQsU0FBUzhELEdBQ1AsSUFBTUksRUFBbUJ4RSxLQUFLNEQsYUFBYTFELGNBQWMsSUFBRHlCLE9BQUt5QyxFQUFhSyxHQUFFLFdBRXZFTCxFQUFhTSxTQUFTQyxNQUd6QjNFLEtBQUs0RSxnQkFBZ0JSLEVBQWNJLEdBRm5DeEUsS0FBSzZFLGdCQUFnQlQsRUFBY0ksRUFBa0JKLEVBQWFVLGtCQUl0RSxHQUFDLENBQUE1RixJQUFBLGtCQUFBb0IsTUFFRCxTQUFnQjhELEVBQWNXLEVBQWNDLEdBQzFDWixFQUFhN0QsVUFBVUcsSUFBSVYsS0FBS3dELGtCQUNoQ3VCLEVBQWFyRCxZQUFjc0QsRUFDM0JELEVBQWF4RSxVQUFVRyxJQUFJVixLQUFLMEQsWUFDbEMsR0FBQyxDQUFBeEUsSUFBQSxrQkFBQW9CLE1BRUQsU0FBZ0I4RCxFQUFjVyxHQUM1QlgsRUFBYTdELFVBQVVDLE9BQU9SLEtBQUt3RCxrQkFDbkN1QixFQUFheEUsVUFBVUMsT0FBT1IsS0FBSzBELGFBQ25DcUIsRUFBYXJELFlBQWMsRUFDN0IsR0FBQyxDQUFBeEMsSUFBQSxxQkFBQW9CLE1BRUQsV0FDTU4sS0FBS2lGLG1CQUNQakYsS0FBS2tGLGtCQUVMbEYsS0FBS21GLGdCQUVULEdBQUMsQ0FBQWpHLElBQUEsbUJBQUFvQixNQUVELFdBQ0UsT0FBT04sS0FBSzhELFdBQVdzQixNQUFLLFNBQUNoQixHQUFZLE9BQU1BLEVBQWFNLFNBQVNDLEtBQUssR0FDNUUsR0FBQyxDQUFBekYsSUFBQSxrQkFBQW9CLE1BRUQsV0FDRU4sS0FBSzZELGVBQWV0RCxVQUFVRyxJQUFJVixLQUFLc0QsZ0JBQ3ZDdEQsS0FBSzZELGVBQWV3QixhQUFhLFlBQVksRUFDL0MsR0FBQyxDQUFBbkcsSUFBQSxpQkFBQW9CLE1BRUQsV0FDRU4sS0FBSzZELGVBQWV0RCxVQUFVQyxPQUFPUixLQUFLc0QsZ0JBQzFDdEQsS0FBSzZELGVBQWV5QixnQkFBZ0IsV0FDdEMsTSxvRUFBQ3ZDLENBQUEsQ0F6RStCLEdDNkJyQndDLEVBQVF0RixTQUFTQyxjQUFjLG9CQUMvQnNGLEVBQWF2RixTQUFTQyxjQUFjLGdCQUlwQ3VGLEdBSFl4RixTQUFTQyxjQUFjLHlCQUduQkQsU0FBU2dFLGlCQUFpQixnQkFDMUN5QixFQUFhekYsU0FBU2dFLGlCQUFpQiwyQkFDdkMwQixFQUFxQjFGLFNBQVNDLGNBQWMsc0JBQzVDMEYsRUFBbUIzRixTQUFTQyxjQUFjLDRCQUd6QzJGLEVBQW9CNUYsU0FBU0MsY0FBYyxnQ0FDM0M0RixFQUFlN0YsU0FBU0MsY0FBYyxVQUN0QzZGLEVBQWdCOUYsU0FBU0MsY0FBYyx3QkFNdkM4RixFQUFpQixDQUMzQjdDLGNBQWUsb0JBQ2ZFLHFCQUFzQixjQUN0QkUsY0FBZSx5QkFDZkUsZ0JBQWlCLDhCQUNqQkUsV0FBWSwwQkFJSHNDLEVBQVloRyxTQUFTQyxjQUFjLFdBQ25DZ0csRUFBY2pHLFNBQVNDLGNBQWMsVywrd0RDMURwQixJQUVUaUcsRUFBYSxTQUFBbEYsR0FDOUIsU0FBQWtGLEVBQVlyRyxFQUFlc0csR0FBVyxJQUFBdEYsRUFLdUMsTyw0RkFMdkNmLENBQUEsS0FBQW9HLElBQ2xDckYsRUFBQUksRUFBQSxLQUFBaUYsRUFBQSxDQUFNckcsS0FDRHVHLFlBQWNELEVBQ25CdEYsRUFBSzhDLGFBQWUzRCxTQUFTQyxjQUFjLEdBQUR5QixPQUFJN0IsRUFBYSxrQkFDM0RnQixFQUFLd0YsY0FBZ0JyRyxTQUFTQyxjQUFjLFVBQzVDWSxFQUFLZ0QsV0FBYWhELEVBQUs4QyxhQUFhSyxpQkFBaUIscUJBQW9CbkQsQ0FDN0UsQyxRQWlDQyxPLHFSQXhDNkJPLENBQUE4RSxFQUFBbEYsRyxFQU83QmtGLEcsRUFBQSxFQUFBakgsSUFBQSxrQkFBQW9CLE1BRUQsV0FBa0IsSUFBQWlHLEVBQUEsS0FDUkMsRUFBYyxDQUFDLEVBS3JCLE9BSkF4RyxLQUFLOEQsV0FBV0ssU0FBUSxTQUFDc0MsR0FBVSxJQUFBQyxFQUN6QnBHLEVBQXVELFFBQWxEb0csRUFBR0gsRUFBSzNDLGFBQWExRCxjQUFjLElBQUR5QixPQUFLOEUsRUFBTWhDLFlBQUssSUFBQWlDLE9BQUEsRUFBL0NBLEVBQWlEcEcsTUFDL0RrRyxFQUFZQyxFQUFNaEMsSUFBTW5FLENBQzVCLElBQ09rRyxDQUNYLEdBQUMsQ0FBQXRILElBQUEsa0JBQUFvQixNQUVELFdBQ0lOLEtBQUtzRyxjQUFjL0YsVUFBVUcsSUFBSSxzQkFDckMsR0FBQyxDQUFBeEIsSUFBQSxvQkFBQW9CLE1BRUQsV0FBb0IsSUFBQXFHLEVBQUEsS0FDaEJDLEVBQUFDLEVBQUFWLEVBQUF6RyxXQUFBLDBCQUFBRSxLQUFBLE1BRUFJLEtBQUtHLFlBQWNILEtBQUtzRyxjQUFjcEcsY0FBYyxlQUNwREYsS0FBSzRELGFBQWFuRCxpQkFBaUIsVUFBUyxTQUFDRyxHQUN6Q0EsRUFBSTJELGlCQUNKb0MsRUFBS04sWUFBWU0sRUFBS0csbUJBQ3RCbEcsRUFBSUcsT0FBT2dHLFFBQ1huRyxFQUFJRyxPQUFPYixjQUFjLGVBQWU4RyxVQUFXLEVBQ25EcEcsRUFBSUcsT0FBT2IsY0FBYyxlQUFlSyxVQUFVRyxJQUFJLHlCQUMxRCxJQUNBVixLQUFLRyxZQUFZTSxpQkFBaUIsU0FBUyxXQUN2Q2tHLEVBQUtNLGlCQUNULEdBQ0osR0FBQyxDQUFBL0gsSUFBQSxRQUFBb0IsTUFFRCxXQUNJc0csRUFBQUMsRUFBQVYsRUFBQXpHLFdBQUEsY0FBQUUsS0FBQSxLQUNKLE0sb0VBQUN1RyxDQUFBLENBeEM2QixDQUFTdEcsRyw2cUJDbUJyQ3FILEVBQVcsSUNyQlksV0FDekIsU0FBQUMsRUFBQUMsR0FBZ0MsSUFBbkJDLEVBQVFELEVBQVJDLFNBQVVDLEVBQU9GLEVBQVBFLFMsNEZBQU92SCxDQUFBLEtBQUFvSCxHQUMxQm5ILEtBQUt1SCxVQUFZdEgsU0FBU0MsY0FBY21ILEdBQ3hDckgsS0FBS3dILFNBQVd2SCxTQUFTQyxjQUFjb0gsRUFDM0MsQyxRQVl1QyxPLEVBWnRDSCxHLEVBQUEsRUFBQWpJLElBQUEsY0FBQW9CLE1BRUQsV0FDSSxNQUFPLENBQ0hxQyxLQUFNM0MsS0FBS3VILFVBQVU3RixZQUNyQitGLElBQUt6SCxLQUFLd0gsU0FBUzlGLFlBRTNCLEdBQUMsQ0FBQXhDLElBQUEsY0FBQW9CLE1BRUQsU0FBQW9ILEdBQXlCLElBQVovRSxFQUFJK0UsRUFBSi9FLEtBQU04RSxFQUFHQyxFQUFIRCxJQUNuQjlFLElBQU8zQyxLQUFLdUgsVUFBVTdGLFlBQWNpQixHQUVwQzhFLElBQU16SCxLQUFLd0gsU0FBUzlGLFlBQWMrRixFQUFJLE0sb0VBQUNOLENBQUEsQ0FoQmQsR0RxQlosQ0FBYyxDQUM3QkUsU0FBVSxrQkFDVkMsUUFBUyx1QkFJTEssRUFBWSxJQUFJOUgsRUFBTyxvQkFHdkIrSCxFQUFpQixJQUFJNUcsRUFBZSx5QkFHcEM2RyxFQUFtQixJQUFJMUIsRUFBZSxvQkFjNUMsV0FFRWUsRUFBU1ksWUFBWSxDQUNuQm5GLEtBQU1zRCxFQUFVM0YsTUFDaEJtSCxJQUFLdkIsRUFBWTVGLFFBR25CcUgsRUFBVTlHLE9BQ1osSUFyQk1rSCxFQUFtQixJQUFJNUIsRUFBZSx5QkFBMEI2QixJQVF0RSxTQUFTQyxJQUNQMUMsRUFBTWhGLFVBQVVHLElBQUksZUFDdEIsQ0FrQk8sU0FBU3dILElBQ2RILEVBQWlCbEgsT0FDbkIsQywrcUJFbERNc0gsR0FBVyxJQ2RXLFdBQ3hCLFNBQUFDLEVBQUFoQixFQUErQmlCLEdBQWtCLElBQXBDQyxFQUFLbEIsRUFBTGtCLE1BQU9DLEVBQVFuQixFQUFSbUIsVSw0RkFBUXhJLENBQUEsS0FBQXFJLEdBQ3hCcEksS0FBS3dJLGNBQWdCRixFQUNyQnRJLEtBQUt5SSxVQUFZRixFQUNqQnZJLEtBQUswSSxXQUFhekksU0FBU0MsY0FBY21JLEVBQzdDLEMsUUFjQyxPLEVBZEFELEcsRUFBQSxFQUFBbEosSUFBQSxRQUFBb0IsTUFFRCxXQUNJTixLQUFLMEksV0FBV0MsVUFBWSxFQUNoQyxHQUFDLENBQUF6SixJQUFBLFdBQUFvQixNQUNELFdBQVUsSUFBQVEsRUFBQSxLQUNOZCxLQUFLNEksUUFDTDVJLEtBQUt3SSxjQUFjckUsU0FBUSxTQUFBMEUsR0FDdkIvSCxFQUFLMkgsVUFBVUksRUFDbkIsR0FDSixHQUFDLENBQUEzSixJQUFBLFVBQUFvQixNQUVELFNBQVF3SSxHQUNKOUksS0FBSzBJLFdBQVdLLFFBQVFELEVBQzVCLE0sb0VBQUNWLENBQUEsQ0FuQnVCLEdEY1gsQ0FBYSxDQUM1QkUsTUpkMEIsQ0FDeEIsQ0FDRTNGLEtBQU0sb0JBQ05ELEtBQU0saUdBRVIsQ0FDRUMsS0FBTSxjQUNORCxLQUFNLG9HQUVSLENBQ0VDLEtBQU0sa0JBQ05ELEtBQU0sdUdBRVIsQ0FDRUMsS0FBTSxVQUNORCxLQUFNLGdHQUVSLENBQ0VDLEtBQU0sZ0NBQ05ELEtBQU0sZ0dBRVIsQ0FDRUMsS0FBTSxpQkFDTkQsS0FBTSw4RklSUjZGLFNBQVUsU0FBQ1MsR0FDUCxJQUNNbEgsRUFETyxJQUFJRixFQUFLb0gsRUFBVSxtQkFDUEMsZUFDekJkLEdBQVNlLFFBQVFwSCxFQUNyQixHSnlCNkIsVUluQjFCLFNBQVNrRyxLQUVkLElBQU1tQixFQUFhbEosU0FBU0MsY0FBYyxrQ0FBa0NJLE1BQ3RFOEksRUFBV25KLFNBQVNDLGNBQWMsa0NBQWtDSSxNQUNwRStJLEVBQVUsSUFBSXpILEVBQU0sQ0FDeEJlLEtBQU93RyxFQUNQekcsS0FBTzBHLEdBQ1AsbUJBRUZqQixHQUFTZSxRQUFRRyxFQUFRSixnQkFDekJmLEdBQ0YsQ0FHZSxTQUFTb0IsS0FDdEJuQixHQUFTSSxVQUNYLENBR2lCeEUsTUFBTUMsS0FBSy9ELFNBQVNnRSxpQkFBaUIsaUJBQzdDRSxTQUFRLFNBQUNsQixHQUNNLElBQUlGLEVBQWVpRCxFQUFlL0MsR0FDMUNpQixrQkFDaEIsSUZxQkUyQixFQUFrQnBGLGlCQUFpQixTQWhDckMsV0FDRW9ILEVBQWlCcEYsTUFDbkIsSUErQkVrRCxFQUFtQmxGLGlCQUFpQixRQUFTd0gsR0FDN0NuQyxFQUFhckYsaUJBQWlCLFNBQVMsU0FBU0csR0FDMUNBLEVBQUlHLFNBQVcrRSxHQUNqQm1DLEdBRUosSUFFQWxDLEVBQWN0RixpQkFBaUIsU0FwQmpDLFdBQ0VzSCxFQUFpQnRGLE1BQ25CLElBbUJFbUQsRUFBaUJuRixpQkFBaUIsUUFBU3lILEdBQzNDMUMsRUFBVy9FLGlCQUFpQixTQUFTLFNBQVNHLEdBQ3hDQSxFQUFJRyxTQUFXeUUsR0FDakIwQyxHQUVKLElBRUF4QyxFQUFXdkIsU0FBUSxTQUFTb0YsR0FDMUJBLEVBQVU5SSxpQkFBaUIsU0FBUyxXQUNsQ21ILEVBQWUvRyxPQUNqQixHQUNGLElBQ0E0RSxFQUFjdEIsU0FBUSxTQUFVcUYsR0FDOUJBLEVBQVUvSSxpQkFBaUIsU0FBUyxTQUFVZ0osR0FDeENBLEVBQU0xSSxTQUFXeUksR0FDbkI1QixFQUFlL0csT0FFbkIsR0FDRixJQUlBZ0gsRUFBaUI2QixvQkFFakIzQixFQUFpQjJCLG9CQUlqQnpKLFNBQVNRLGlCQUFpQixtQkFBb0I2SSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcm9qZWN0XzQudHJpcGxldGVuL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQudHJpcGxldGVuL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQudHJpcGxldGVuLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3Byb2plY3RfNC50cmlwbGV0ZW4vLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQudHJpcGxldGVuLy4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80LnRyaXBsZXRlbi8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQudHJpcGxldGVuLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMucG9wdXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IHRoaXMucG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNhdmVcIik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvcGVuKCl7XHJcbiAgICAgICAgdGhpcy5wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cC1vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICBpZiAodGhpcy5wb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwicG9wdXAtb3BlbmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KXtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PSAnRXNjYXBlJyl7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMucG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5wb3B1cFNlbGVjdG9yKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLnBvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5pbWFnZS16b29tX19jb250YWluZXJcIik7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VMZWdlbmQgPSB0aGlzLnBvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5pbWFnZS16b29tX190ZXh0XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oaW1hZ2VTcmMsIGltYWdlQWx0KXtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlU3JjO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gaW1hZ2VBbHQ7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VMZWdlbmQudGV4dENvbnRlbnQgPSBgSW1hZ2VuIGRlICR7aW1hZ2VBbHR9YDtcclxuICAgICAgICB0aGlzLnBvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcImltYWdlLXpvb21fb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLnBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJpbWFnZS16b29tX29wZW5lZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NhcmREYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9wb3B1cFdoaXRJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5pbWFnZS16b29tXCIpO1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUNhcmRFbGVtZW50KCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZEVsZW1lbnQpXHJcbiAgICAuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2VsZW1lbnRcIilcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyhjcmVhdGVDYXJkKSB7XHJcbiAgICBjb25zdCBsaWtlID0gY3JlYXRlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50LWxpa2VcIik7XHJcbiAgICBsaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PntcclxuICAgICAgY29uc3QgbGlrZUVsZW1lbnQgPSBldnQuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50LWxpa2UtYmxhY2tcIik7XHJcbiAgICAgIGxpa2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkc19fZWxlbWVudC1saWtlLWJsYWNrX29uXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgdmlld0ltYWdlID0gY3JlYXRlQ2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50LXBpY1wiKTtcclxuICAgIHZpZXdJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlSW1hZ2VDbGljaygpKTtcclxuXHJcbiAgICBjb25zdCB0cmFzaCA9IGNyZWF0ZUNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudC10cmFzaFwiKTtcclxuICAgIHRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PntcclxuICAgICAgbGV0IGNhcmRFbGVtZW50ID0gZXZ0LmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcIi5jYXJkc19fZWxlbWVudFwiKTtcclxuICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUltYWdlQ2xpY2soKSB7XHJcbiAgICB0aGlzLl9wb3B1cFdoaXRJbWFnZS5vcGVuKHRoaXMuX2NhcmREYXRhLmxpbmssIHRoaXMuX2NhcmREYXRhLm5hbWUpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCl7XHJcbiAgICBjb25zdCBjcmVhdGVDYXJkID0gdGhpcy5fY3JlYXRlQ2FyZEVsZW1lbnQoKVxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoY3JlYXRlQ2FyZClcclxuICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IGNyZWF0ZUNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZWxlbWVudC1waWNcIilcclxuICAgIGVsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9jYXJkRGF0YS5saW5rO1xyXG4gICAgY29uc3QgZWxlbWVudFRleHQ9ICBjcmVhdGVDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2VsZW1lbnQtdGV4dC1jb250YWluZXJcIilcclxuICAgIGVsZW1lbnRUZXh0LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2VsZW1lbnQtdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmREYXRhLm5hbWU7XHJcbiAgICBlbGVtZW50SW1hZ2UuYWx0ID0gdGhpcy5fY2FyZERhdGEubmFtZVxyXG4gICAgcmV0dXJuIGNyZWF0ZUNhcmRcclxuICB9XHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIC8vIFNlbGVjdG9yZXNcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5nLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9idXR0b25TYXZlT2ZmID0gc2V0dGluZy5idXR0b25TYXZlT2ZmO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIC8vIEJvdMOzbiBkZSBndWFyZGFkb1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2F2ZVwiKTtcclxuICAgIC8vIElucHV0IGxpc3RcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpKTtcclxuICAgIC8vIEhhYmlsaXRhciB2YWxpZGFjacOzbiB5IGFncmVnYXIgZWwgZXZlbnQgbGlzdGVuZXJcclxuICAgIHRoaXMuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBmb3JtUHJvZmlsZUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG5cclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybVByb2ZpbGVFcnJvciwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybVByb2ZpbGVFcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvckVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JFbGVtZW50KSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVkQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVkQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2J1dHRvblNhdmVPZmYpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVkQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2J1dHRvblNhdmVPZmYpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICB9XHJcbn0iLCIvL2RhdG9zIGRlIGxhIGNhcnRhcyBpbmljaWFsZXNcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMYWdvIExvdWlzZVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYXRlbWFyLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGUgbGEgVmFub2lzZVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGdcIixcclxuICAgIH1cclxuICBdOyBcclxuXHJcbi8vdmVudGFuYXMgbW9kYWxlc1xyXG5leHBvcnQgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX2NvbnRhaW5lclwiKTsgXHJcbmV4cG9ydCBjb25zdCBwb3B1cFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1wbGFjZVwiKTtcclxuZXhwb3J0IGNvbnN0IHpvb21JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2Utem9vbV9jb250YWluZXJcIik7XHJcblxyXG4vL2JvdG9uZXMgY2VycmFyIHZlbnRhbmFzIG1vZGFsZXNcclxuZXhwb3J0IGNvbnN0IGNsb3NlSW1hZ2VPdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmltYWdlLXpvb21cIik7XHJcbmV4cG9ydCBjb25zdCBjbG9zZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbWFnZS16b29tX19pY29uLWNsb3NlXCIpO1xyXG5leHBvcnQgY29uc3QgY2xvc2VQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faWNvbi1jbG9zZVwiKTtcclxuZXhwb3J0IGNvbnN0IGNsb3NlUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXBsYWNlX19pY29uLWNsb3NlXCIpO1xyXG5cclxuIC8vYm90b25lcyBwYXJhIGxvcyBtYW5lamFkb3JlcyBkZSBldmVudG9zIGRlIGNsaWNrIHBhcmEgYWJyaXIgdmVudGFuYXMgbW9kYWxlc1xyXG4gZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvbi1zcXVhcmVcIik7XHJcbiBleHBvcnQgY29uc3QgY2xvc2VQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cFwiKTtcclxuIGV4cG9ydCBjb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG4gXHJcbiAvLyBzZWxlY3RvciBkZSBjb250ZW5lZG9yIGRlIGNhcnRhc1xyXG4gZXhwb3J0IGNvbnN0IGNhcmRMaXN0U2VsZWN0b3IgPSBcIi5jYXJkc1wiO1xyXG5cclxuIC8vY29uc3RhbnRlIHBhcmEgdmFsaWRhZG9yIGRlIGZvcm11bGFyaW9cclxuIGV4cG9ydCBjb25zdCBzZXR0aW5nRWxlbWVudCA9IHtcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2ltcHV0LXRleHRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cC1zYXZlXCIsXHJcbiAgICBidXR0b25TYXZlT2ZmOiBcInBvcHVwX19idXR0b24tc2F2ZS1vZmZcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC10ZXh0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtc2hvdy1lcnJvclwiLFxyXG59O1xyXG5cclxuLy9jb25zdGFudGVzIGRlIGxvcyBkYXRvcyBkZSBwZXJmaXJsXHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vbWJyZVwiKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QWNlcmNhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhY2VyY2FcIik7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRJbmZvKXtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRJbmZvID0gc3VibWl0SW5mbztcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cG9wdXBTZWxlY3Rvcn0gLmZvcm1fX3BvcHVwYCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cFwiKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2ltcHV0LXRleHRcIilcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW1wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH1gKT8udmFsdWU7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0LmlkXSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2hhbmRsZUFkZENsYXNzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiLnBvcHVwLXBsYWNlX29wZW5lZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2F2ZVwiKTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsKGV2dCkgPT57XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRJbmZvKHRoaXMuX2dldEltcHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIGV2dC50YXJnZXQucXVlcnlTZWxlY3RvcignLnBvcHVwLXNhdmUnKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGV2dC50YXJnZXQucXVlcnlTZWxlY3RvcignLnBvcHVwLXNhdmUnKS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fYnV0dG9uLXNhdmUtb2ZmJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVBZGRDbGFzcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBoYW5kbGVkQWRkUGxhY2VGb3JtU3VibWl0IH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XHJcbmltcG9ydCBpbml0IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xyXG5pbXBvcnQge3BvcHVwLFxyXG4gIHBvcHVwUGxhY2UsXHJcbiAgY2xvc2VJbWFnZU91dCxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBjbG9zZVByb2ZpbGVCdXR0b24sXHJcbiAgY2xvc2VQcm9maWxlLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgY2xvc2VQbGFjZUJ1dHRvbixcclxuICBjbG9zZUltYWdlLFxyXG4gIGlucHV0TmFtZSxcclxuICBpbnB1dEFjZXJjYSxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCJcclxuaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuXHJcbi8vaW50YW5jaWEgZGUgVXNlcmlpbmZvXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvICh7XHJcbiAgZGF0YU5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgZGF0YUpvYjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxufSlcclxuXHJcbi8vaW5zdGFuY2lhIGRlIFBvcHVwXHJcbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cCAoXCIjcG9wdXBfY29udGFpbmVyXCIpO1xyXG5cclxuLy9pc3RhbmNpYSBkZSBQb3B1cFdpdGhJbWFnZVxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNpbWFnZS16b29tX2NvbnRhaW5lclwiKTtcclxuXHJcbi8vaW5zdGFuY2lhcyBkZSBQb3B1cFdpdGhGb3JtXHJcbmNvbnN0IHBvcHVwRm9ybVByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSAoXCIjcG9wdXBfY29udGFpbmVyXCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuY29uc3QgcG9wdXBGb3JtQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtIChcIiNwb3B1cC1wbGFjZV9jb250YWluZXJcIiwgaGFuZGxlZEFkZFBsYWNlRm9ybVN1Ym1pdCk7XHJcblxyXG5cclxuLy8gY29udHJvbGFkb3IgZGVsIGJvdG9uIGVkaXRhciBwZXJmaWxcclxuZnVuY3Rpb24gb25FZGl0QnV0dG9uQ2xpY2soKXtcclxuICBwb3B1cEZvcm1Qcm9maWxlLm9wZW4oKVxyXG59XHJcbi8vIGNvbnRyb2xhZG9yIGRlbCBib3RvbiBjZXJyYXIgZWRpdGFyIHBlcmZpbFxyXG5mdW5jdGlvbiBvbkNsb3NlUG9wdXBDbGljaygpe1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cC1vcGVuZWRcIik7XHJcbn1cclxuXHJcbi8vZnVuY2lvbiBwYXJhIGVkaXRhciBwZXJmaWxcclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoKSB7XHJcbiAgLy8gVXRpbGl6YSBsYSBpbnN0YW5jaWEgZGUgVXNlckluZm8gcGFyYSBhY3R1YWxpemFyIGxhIGluZm9ybWFjacOzbiBkZWwgdXN1YXJpb1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgIG5hbWU6IGlucHV0TmFtZS52YWx1ZSxcclxuICAgIGpvYjogaW5wdXRBY2VyY2EudmFsdWUsXHJcbiAgfSk7XHJcbiAgXHJcbiAgcG9wdXBFZGl0LmNsb3NlKCk7XHJcbn1cclxuXHJcbi8vIGNvbnRyb2xhZG9yIGRlbCBib3RvbiBhZ3JlZ2FyIGx1Z2FyXHJcbmZ1bmN0aW9uIG9uQWRkQnV0dG9uQ2xpY2soKXtcclxuICBwb3B1cEZvcm1BZGRDYXJkLm9wZW4oKVxyXG59XHJcbi8vIGNvbnRyb2xhZG9yIGRlbCBib3RvbiBjZXJyYXIgYWdyZWdhciBsdWdhclxyXG5leHBvcnQgZnVuY3Rpb24gb25DbG9zZVBvcHVwUGxhY2VDbGljaygpe1xyXG4gIHBvcHVwRm9ybUFkZENhcmQuY2xvc2UoKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFncmVnYXJFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgLy9tYW5pcHVsYWRvcmVzIGRlIGV2ZW50b3MgcGFyYSBhYnJpciB5IGNlcnJhciBlZGl0YXIgcGVyZmlsXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uRWRpdEJ1dHRvbkNsaWNrKTtcclxuICBjbG9zZVByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xvc2VQb3B1cENsaWNrKTtcclxuICBjbG9zZVByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2dCl7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gY2xvc2VQcm9maWxlKXtcclxuICAgICAgb25DbG9zZVBvcHVwQ2xpY2soKTtcclxuICAgIH1cclxuICB9KTtcclxuICAvL21hbmlwdWxhZG9yZXMgZGUgZXZlbnRvcyBwYXJhIGFicmlyIHkgY2VycmFyIGFkZFBsYWNlXHJcbiAgYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25BZGRCdXR0b25DbGljayk7XHJcbiAgY2xvc2VQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DbG9zZVBvcHVwUGxhY2VDbGljayk7XHJcbiAgcG9wdXBQbGFjZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZ0KXtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBwb3B1cFBsYWNlKXtcclxuICAgICAgb25DbG9zZVBvcHVwUGxhY2VDbGljaygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gLy9tYW5pcHVsYWRvcmVzIGRlIGV2ZW50b3MgcGFyYSBjZXJyYXIgbGFzIGltYWdlbmVzIGFncmFuZGFkYXNcclxuICBjbG9zZUltYWdlLmZvckVhY2goZnVuY3Rpb24oY2xvc2Vab29tKXtcclxuICAgIGNsb3NlWm9vbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XHJcbiAgICAgIHBvcHVwV2l0aEltYWdlLmNsb3NlKClcclxuICAgIH0pO1xyXG4gIH0pXHJcbiAgY2xvc2VJbWFnZU91dC5mb3JFYWNoKGZ1bmN0aW9uICh6b29tSW1hZ2UpIHtcclxuICAgIHpvb21JbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHpvb21JbWFnZSkge1xyXG4gICAgICAgIHBvcHVwV2l0aEltYWdlLmNsb3NlKClcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAvLyBDb25lY3RhIGVsIG1hbmlwdWxhZG9yIGRlIGV2ZW50b3MgZW52aWFyXHJcbiAgcG9wdXBGb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG4gIHBvcHVwRm9ybUFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG5cclxuXHJcbiAgLy9jb250cm9sYWRvciBkZSBldmVudG9zIHBhcmEgaW5pY2lhbGl6YXIgbGFzIDYgY2FydGFzXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdCk7XHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHtkYXRhTmFtZSwgZGF0YUpvYn0pe1xyXG4gICAgICAgIHRoaXMuX2RhdGFOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhTmFtZSk7XHJcbiAgICAgICAgdGhpcy5fZGF0YUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YUpvYilcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX2RhdGFOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBqb2I6IHRoaXMuX2RhdGFKb2IudGV4dENvbnRlbnRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHtuYW1lLCBqb2J9KSB7XHJcbmlmIChuYW1lKSAgdGhpcy5fZGF0YU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gXHJcbmlmIChqb2IpICB0aGlzLl9kYXRhSm9iLnRleHRDb250ZW50ID0gam9iO31cclxuICAgIFxyXG59IiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCJcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIlxyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiXHJcbmltcG9ydCBhZ3JlZ2FyRXZlbnRMaXN0ZW5lcnMgZnJvbSBcIi4vc2NyaXB0cy91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQgeyBvbkNsb3NlUG9wdXBQbGFjZUNsaWNrIH0gZnJvbSBcIi4vc2NyaXB0cy91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBcclxuICBpbml0aWFsQ2FyZHMsXHJcbiAgY2FyZExpc3RTZWxlY3RvcixcclxuICBzZXR0aW5nRWxlbWVudCxcclxuIH0gZnJvbSBcIi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcblxyXG4vL2luc3RhbmNpYSBkZSBjbGFzZSBTZWN0aW9uIHBhcmEgcmVuZGVyaXphciBsYXMgY2FydGFzXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24gKHsgXHJcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+e1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkSXRlbSwgXCIjY2FyZHMtdGVtcGxhdGVcIik7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgIGNhcmRMaXN0LnNldEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNhcmRMaXN0U2VsZWN0b3JcclxuKTtcclxuXHJcbi8vZnVuY2lvbiBwYXJhIGFncmVnYXIgbHVnYXJcclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZWRBZGRQbGFjZUZvcm1TdWJtaXQoKSB7XHJcbiAgXHJcbiAgY29uc3QgdGl0bGVWYWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtcGxhY2VfX2ltcHV0LXRleHRfdGl0bGVcIikudmFsdWU7XHJcbiAgY29uc3QgcGljVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXBsYWNlX19pbXB1dC10ZXh0X2ltYWdlXCIpLnZhbHVlO1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZCgge1xyXG4gICAgbmFtZSA6IHRpdGxlVmFsdWUsXHJcbiAgICBsaW5rIDogcGljVmFsdWVcclxuICB9LFwiI2NhcmRzLXRlbXBsYXRlXCIpXHJcbiAgXHJcbiAgY2FyZExpc3Quc2V0SXRlbShuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxuICBvbkNsb3NlUG9wdXBQbGFjZUNsaWNrKCk7XHJcbn1cclxuXHJcbi8vRnVuY2lvbiBwYXJhIGluaWNpYWxpemFyIGxhcyA2IGNhcnRhcyB5IG1hbnRlciBsYXMgZnVuY2lvbmVzIGRlbnRybyBkZSBlbGxhc1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0KCl7XHJcbiAgY2FyZExpc3QucmVuZGVyZXIoKTtcclxufVxyXG5cclxuLy8gQXJyYXkgZGUgaW5zdGFjaWFzIGRlIEZvcm1WYWxpZGF0b3JcclxuY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fcG9wdXBcIikpO1xyXG5mb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCk9PiB7XHJcbiAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yIChzZXR0aW5nRWxlbWVudCxmb3JtRWxlbWVudCk7XHJcbiAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5hZ3JlZ2FyRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjbGVhcigpe1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICB9XHJcbiAgICByZW5kZXJlcigpe1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKVxyXG4gICAgICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEl0ZW0oZWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudClcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJ2YWx1ZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJfdGhpcyIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2NhbGxTdXBlciIsIl9wb3B1cEltYWdlIiwiX2ltYWdlTGVnZW5kIiwiX2luaGVyaXRzIiwiaW1hZ2VTcmMiLCJpbWFnZUFsdCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiY29uY2F0IiwiQ2FyZCIsImRhdGEiLCJjYXJkRWxlbWVudCIsIl9jYXJkRGF0YSIsIl9jYXJkRWxlbWVudCIsIl9wb3B1cFdoaXRJbWFnZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjcmVhdGVDYXJkIiwiY3VycmVudFRhcmdldCIsInRvZ2dsZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiY2xvc2VzdCIsIm9wZW4iLCJsaW5rIiwibmFtZSIsIl9jcmVhdGVDYXJkRWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVycyIsImVsZW1lbnRJbWFnZSIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5nIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9idXR0b25TYXZlT2ZmIiwiYnV0dG9uU2F2ZU9mZiIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaXNWYWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybVByb2ZpbGVFcnJvciIsImlkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlZEJ1dHRvbiIsIl9lbmFibGVkQnV0dG9uIiwic29tZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInBvcHVwIiwicG9wdXBQbGFjZSIsImNsb3NlSW1hZ2VPdXQiLCJjbG9zZUltYWdlIiwiY2xvc2VQcm9maWxlQnV0dG9uIiwiY2xvc2VQbGFjZUJ1dHRvbiIsImVkaXRQcm9maWxlQnV0dG9uIiwiY2xvc2VQcm9maWxlIiwiYWRkQ2FyZEJ1dHRvbiIsInNldHRpbmdFbGVtZW50IiwiaW5wdXROYW1lIiwiaW5wdXRBY2VyY2EiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0SW5mbyIsIl9zdWJtaXRJbmZvIiwiX3BvcHVwRWxlbWVudCIsIl90aGlzMiIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJfdGhpczIkX2Zvcm1FbGVtZW50JHEiLCJfdGhpczMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwiX2dldEltcHV0VmFsdWVzIiwicmVzZXQiLCJkaXNhYmxlZCIsIl9oYW5kbGVBZGRDbGFzcyIsInVzZXJJbmZvIiwiVXNlckluZm8iLCJfcmVmIiwiZGF0YU5hbWUiLCJkYXRhSm9iIiwiX2RhdGFOYW1lIiwiX2RhdGFKb2IiLCJqb2IiLCJfcmVmMiIsInBvcHVwRWRpdCIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBGb3JtUHJvZmlsZSIsInNldFVzZXJJbmZvIiwicG9wdXBGb3JtQWRkQ2FyZCIsImhhbmRsZWRBZGRQbGFjZUZvcm1TdWJtaXQiLCJvbkNsb3NlUG9wdXBDbGljayIsIm9uQ2xvc2VQb3B1cFBsYWNlQ2xpY2siLCJjYXJkTGlzdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImlubmVySFRNTCIsImNsZWFyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2FyZEl0ZW0iLCJnZW5lcmF0ZUNhcmQiLCJzZXRJdGVtIiwidGl0bGVWYWx1ZSIsInBpY1ZhbHVlIiwibmV3Q2FyZCIsImluaXQiLCJjbG9zZVpvb20iLCJ6b29tSW1hZ2UiLCJldmVudCIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==